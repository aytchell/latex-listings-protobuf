\documentclass[12pt, a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

\usepackage{listings}
\usepackage{protobuf/lang}
\usepackage{protobuf/style}

\begin{document}

\section{Protobuf Listing}

\lstinputlisting[language=protobuf2, style=protobuf,caption={%
  Protocol Buffers message declaration using \texttt{protobuf/lang} and the
  style in \texttt{protobuf/style}.}]{search.proto}

\end{document}
